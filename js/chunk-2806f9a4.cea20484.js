(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2806f9a4"],{3020:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticStyle:{position:"relative"}},[e("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(s){t.focus=!0},mouseleave:function(s){t.focus=!1},click:function(s){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?e("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(s){return s.stopPropagation(),t.playButtonClicked(s)}}},[e("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()]),t.hoverEffect?e("transition",{attrs:{name:"fade"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?e("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},i=[],r=(e("a9e3"),e("eb6f")),o={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(~~(.96*this.size),"px"),top:"".concat(this.shadowMargin,"px"),right:"".concat(~~(.02*this.size),"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(r["c"])(this.id):"playlist"===this.type&&Object(r["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(r["c"])(this.id):"playlist"===this.type?Object(r["e"])(this.id):"artist"===this.type&&Object(r["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},n=o,c=(e("e83d"),e("2877")),l=Object(c["a"])(n,a,i,!1,null,"8cdb356c",null);s["a"]=l.exports},"4e22":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search"},[e("h1",[e("span",[t._v(t._s(t.$t("search.searchFor")))]),t._v(' "'+t._s(t.keywords)+'" ')]),t.isExistResult?e("div",{staticClass:"result"},[e("div",{staticClass:"row"},[t.result.hasOwnProperty("artist")?e("div",{staticClass:"artists"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.artist")))]),e("div",{staticClass:"artists-list"},t._l(t.result.artist.artists.slice(0,3),(function(s){return e("div",{key:s.id,staticClass:"artist"},[e("Cover",{attrs:{url:t._f("resizeImage")(s.img1v1Url),showBlackShadow:!0,hoverEffect:!0,showPlayButton:!0,type:"artist",id:s.id,size:128,playButtonSize:36,shadowMargin:8,radius:100}}),e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/artist/"+s.id}},[t._v(t._s(s.name))])],1)],1)})),0)]):t._e(),t.result.hasOwnProperty("album")?e("div",{staticClass:"albums"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.album")))]),e("div",{staticClass:"albums-list"},t._l(t.result.album.albums.slice(0,4),(function(s){return e("div",{key:s.id,staticClass:"album"},[e("div",[e("Cover",{attrs:{url:t._f("resizeImage")(s.picUrl),showBlackShadow:!0,hoverEffect:!0,showPlayButton:!0,type:"album",id:s.id,size:128,playButtonSize:36,shadowMargin:8,radius:8}})],1),e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/album/"+s.id}},[t._v(t._s(s.name))])],1),e("div",{staticClass:"artist"},[e("router-link",{attrs:{to:"/artist/"+s.artist.id}},[t._v(t._s(s.artist.name))])],1)])})),0)]):t._e()]),t.result.hasOwnProperty("song")?e("div",{staticClass:"tracks"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.song")))]),e("TrackList",{attrs:{tracks:t.tracks,type:"tracklist"}})],1):t._e(),null!==t.mvs&&t.mvs.length>0?e("div",{staticClass:"mvs"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.mv")))]),e("MvRow",{staticClass:"mv-row",attrs:{mvs:t.mvs.slice(0,5)}})],1):t._e(),t.result.hasOwnProperty("playList")?e("div",{staticClass:"playlists"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.playlist")))]),e("div",{staticClass:"albums-list"},t._l(t.result.playList.playLists.slice(0,12),(function(s){return e("div",{key:s.id,staticClass:"album"},[e("div",[e("Cover",{attrs:{url:t._f("resizeImage")(s.coverImgUrl),showBlackShadow:!0,hoverEffect:!0,showPlayButton:!0,type:"playlist",id:s.id,size:128,playButtonSize:36,shadowMargin:8,radius:8}})],1),e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/playlist/"+s.id}},[t._v(t._s(s.name))])],1)])})),0)]):t._e()]):e("div",{staticClass:"no-results"},[t._v(" "+t._s(t.$t("search.noResult"))+" ")])])},i=[],r=(e("7db0"),e("fb6a"),e("b64b"),e("f3f3")),o=e("2f62"),n=e("323e"),c=e.n(n),l=e("eb6f"),u=e("dad3"),d=e("3020"),h=e("a1a1"),v=e("d4e3"),p={name:"Search",components:{Cover:d["a"],TrackList:h["a"],MvRow:v["a"]},data:function(){return{show:!1,result:{},mvs:[],type:1,limit:30,offset:0}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["search"])),{},{keywords:function(){return this.$route.query.keywords},tracks:function(){var t=this.result.song.songs.slice(0,12);return t},isExistResult:function(){return Object.keys(this.result).length}}),methods:{goToAlbum:function(t){this.$router.push({name:"album",params:{id:t}})},playTrackInSearchResult:function(t){var s=this.tracks.find((function(s){return s.id===t}));Object(l["a"])(s,!0)},getData:function(t){var s=this;Object(u["a"])({keywords:t,type:1018}).then((function(t){s.result=t.result,c.a.done(),s.show=!0})),Object(u["a"])({keywords:t,type:1004}).then((function(t){s.mvs=t.result.mvs}))}},created:function(){this.getData(this.$route.query.keywords)},beforeRouteUpdate:function(t,s,e){this.show=!1,e(),c.a.start(),this.getData(t.query.keywords)}},f=p,m=(e("c224"),e("2877")),y=Object(m["a"])(f,a,i,!1,null,"39aea8e0",null);s["default"]=y.exports},c224:function(t,s,e){"use strict";var a=e("eb6c"),i=e.n(a);i.a},d4e3:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mv-row"},t._l(t.mvs,(function(s){return e("div",{key:t.getID(s),staticClass:"mv"},[e("div",{staticClass:"cover-container"},[e("img",{staticClass:"cover",attrs:{src:t.getUrl(s)},on:{mouseover:function(e){t.hoverVideoID=t.getID(s)},mouseleave:function(s){t.hoverVideoID=0},click:function(e){t.goToMv(t.getID(s))}}}),e("transition",{attrs:{name:"fade"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===t.getID(s),expression:"hoverVideoID === getID(mv)"}],staticClass:"shadow",attrs:{src:t.getUrl(s)}})])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[e("router-link",{attrs:{to:"/mv/"+t.getID(s)}},[t._v(t._s(t.getTitle(s)))])],1),e("div",{staticClass:"artist",domProps:{innerHTML:t._s(t.getSubtitle(s))}})])])})),0)},i=[],r=(e("99af"),e("b0c0"),e("ac1f"),e("5319"),{name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"}},data:function(){return{hoverVideoID:0}},methods:{goToMv:function(t){var s={};void 0!==this.$parent.player&&(s={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:s})},getUrl:function(t){return void 0!==t.cover?t.cover.replace(/^http:/,"https:"):void 0!==t.imgurl16v9?t.imgurl16v9.replace(/^http:/,"https:"):void 0!==t.coverUrl?t.coverUrl.replace(/^http:/,"https:"):void 0},getID:function(t){return void 0!==t.id?t.id:void 0!==t.vid?t.vid:void 0},getTitle:function(t){return void 0!==t.name?t.name:void 0!==t.title?t.title:void 0},getSubtitle:function(t){if("artist"===this.subtitle){var s="null",e=0;return void 0!==t.artistName?(s=t.artistName,e=t.artistId):void 0!==t.creator&&(s=t.creator[0].userName,e=t.creator[0].userId),'<a href="/#/artist/'.concat(e,'">').concat(s,"</a>")}if("publishTime"===this.subtitle)return t.publishTime}}}),o=r,n=(e("de48"),e("2877")),c=Object(n["a"])(o,a,i,!1,null,"7ce08dee",null);s["a"]=c.exports},dad3:function(t,s,e){"use strict";e.d(s,"a",(function(){return r}));var a=e("b775"),i=e("cf45");function r(t){return Object(a["a"])({url:"/search",method:"get",params:t}).then((function(t){return void 0!==t.result.song&&(t.result.song.songs=Object(i["d"])(t.result.song.songs)),t}))}},de48:function(t,s,e){"use strict";var a=e("f92d"),i=e.n(a);i.a},e83d:function(t,s,e){"use strict";var a=e("f445"),i=e.n(a);i.a},eb6c:function(t,s,e){},f445:function(t,s,e){},f92d:function(t,s,e){}}]);
//# sourceMappingURL=chunk-2806f9a4.cea20484.js.map