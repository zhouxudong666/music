(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f994b2"],{"0f0a":function(t,e,a){"use strict";var i=a("4fb2"),n=a.n(i);n.a},"22a5":function(t,e,a){"use strict";var i=a("4f0f"),n=a.n(i);n.a},3020:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?a("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(e){return e.stopPropagation(),t.playButtonClicked(e)}}},[a("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()]),t.hoverEffect?a("transition",{attrs:{name:"fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?a("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},n=[],s=(a("a9e3"),a("eb6f")),o={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(~~(.96*this.size),"px"),top:"".concat(this.shadowMargin,"px"),right:"".concat(~~(.02*this.size),"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(s["c"])(this.id):"playlist"===this.type&&Object(s["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(s["c"])(this.id):"playlist"===this.type?Object(s["e"])(this.id):"artist"===this.type&&Object(s["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},r=o,l=(a("e83d"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"8cdb356c",null);e["a"]=c.exports},"4f0f":function(t,e,a){},"4fb2":function(t,e,a){},"5e45":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?a("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{iconClass:t.iconClass}}):t._e(),t._t("default")],2)},n=[],s=(a("a9e3"),{name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},backgroundColor:{type:String,default:""},textColor:{type:String,default:""},shape:{type:String,default:"square"}},computed:{buttonStyle:function(){var t={borderRadius:"round"===this.shape?"50%":"8px",padding:"8px ".concat(this.horizontalPadding,"px"),width:"round"===this.shape?"38px":"auto"};return""!==this.backgroundColor&&(t.backgroundColor=this.backgroundColor),""!==this.textColor&&(t.color=this.textColor),t}}}),o=s,r=(a("0f0a"),a("2877")),l=Object(r["a"])(o,i,n,!1,null,"18f7e8ba",null);e["a"]=l.exports},"8b00":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[void 0!==t.specialPlaylistInfo||t.isLikeSongsPage?t._e():a("div",{staticClass:"playlist-info"},[a("Cover",{attrs:{url:t._f("resizeImage")(t.playlist.coverImgUrl,1024),showPlayButton:!0,alwaysShowShadow:!0,clickToPlay:!0,size:288},nativeOn:{contextmenu:function(e){return t.openMenu(e)}}}),a("div",{staticClass:"info"},[a("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu(e)}}},[10===t.playlist.privacy?a("span",{staticClass:"lock-icon"},[a("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),t._v(t._s(t.playlist.name))]),a("div",{staticClass:"artist"},[t._v(" Playlist by "),[5277771961,5277965913,5277969451,5277778542,5278068783].includes(t.playlist.id)?a("span",{staticStyle:{"font-weight":"600"}},[t._v("Apple Music")]):a("a",{attrs:{href:"https://music.163.com/#/user/home?id="+t.playlist.creator.userId,target:"blank"}},[t._v(t._s(t.playlist.creator.nickname))])]),a("div",{staticClass:"date-and-count"},[t._v(" "+t._s(t.$t("playlist.updatedAt"))+" "+t._s(t._f("formatDate")(t.playlist.updateTime))+" · "+t._s(t.playlist.trackCount)+" "+t._s(t.$t("common.songs"))+" ")]),a("div",{staticClass:"description",on:{click:function(e){t.showFullDescription=!0}}},[t._v(" "+t._s(t.playlist.description)+" ")]),a("div",{staticClass:"buttons"},[a("ButtonTwoTone",{attrs:{iconClass:"play"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?a("ButtonTwoTone",{attrs:{iconClass:t.playlist.subscribed?"heart-solid":"heart",iconButton:!0,horizontalPadding:0,color:t.playlist.subscribed?"blue":"grey",textColor:t.playlist.subscribed?"#335eea":"",backgroundColor:t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist(e)}}}):t._e(),a("ButtonTwoTone",{attrs:{iconClass:"more",iconButton:!0,horizontalPadding:0,color:"grey"},nativeOn:{click:function(e){return t.openMenu(e)}}})],1)])],1),void 0!==t.specialPlaylistInfo?a("div",{staticClass:"special-playlist"},[a("div",{staticClass:"title",class:t.specialPlaylistInfo.gradient,on:{contextmenu:function(e){return t.openMenu(e)}}},[t._v(" "+t._s(t.specialPlaylistInfo.name)+" ")]),a("div",{staticClass:"subtitle"},[t._v(t._s(t.playlist.englishTitle)+" · "+t._s(t.playlist.updateFrequency)+" ")]),a("div",{staticClass:"buttons"},[a("ButtonTwoTone",{staticClass:"play-button",attrs:{iconClass:"play",color:"grey"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?a("ButtonTwoTone",{attrs:{iconClass:t.playlist.subscribed?"heart-solid":"heart",iconButton:!0,horizontalPadding:0,color:t.playlist.subscribed?"blue":"grey",textColor:t.playlist.subscribed?"#335eea":"",backgroundColor:t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist(e)}}}):t._e(),a("ButtonTwoTone",{attrs:{iconClass:"more",iconButton:!0,horizontalPadding:0,color:"grey"},nativeOn:{click:function(e){return t.openMenu(e)}}})],1)]):t._e(),t.isLikeSongsPage?a("div",{staticClass:"user-info"},[a("h1",[a("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl)}}),t._v(t._s(t.data.user.nickname)+t._s(t.$t("library.sLikedSongs"))+" ")])]):t._e(),a("TrackList",{attrs:{tracks:t.tracks,type:"playlist",id:t.playlist.id,extraContextMenuItem:t.isUserOwnPlaylist?["removeTrackFromPlaylist"]:[]}}),a("Modal",{attrs:{show:t.showFullDescription,close:function(){return t.showFullDescription=!1},showFooter:!1,clickOutsideHide:!0,title:"歌单介绍"}},[t._v(t._s(t.playlist.description))]),a("ContextMenu",{ref:"playlistMenu"},[a("div",{staticClass:"item"},[t._v(t._s(t.$t("contextMenu.playNext")))]),a("div",{staticClass:"item",on:{click:function(e){return t.likePlaylist(!0)}}},[t._v(t._s(t.playlist.subscribed?"从音乐库删除":"保存到音乐库"))]),t.playlist.creator.userId===t.data.user.userId?a("div",{staticClass:"item",on:{click:t.editPlaylist}},[t._v("编辑歌单信息")]):t._e(),t.playlist.creator.userId===t.data.user.userId?a("div",{staticClass:"item",on:{click:t.deletePlaylist}},[t._v("删除歌单")]):t._e()])],1)},n=[],s=(a("4de4"),a("a15b"),a("d81d"),a("b0c0"),a("d0ff")),o=a("f3f3"),r=a("2f62"),l=a("323e"),c=a.n(l),d=a("1e9a"),u=a("eb6f"),p=a("fefb"),y=a("5f87"),h=a("5e45"),f=a("6825"),g=a("a1a1"),b=a("3020"),v=a("714b"),m={2829816518:{name:"欧美私人订制",gradient:"gradient-pink-purple-blue"},2890490211:{name:"助眠鸟鸣声",gradient:"gradient-green"},5089855855:{name:"夜的胡思乱想",gradient:"gradient-moonstone-blue"},2888212971:{name:"全球百大DJ",gradient:"gradient-orange-red"},2829733864:{name:"睡眠伴侣",gradient:"gradient-midnight-blue"},2829844572:{name:"洗澡时听的歌",gradient:"gradient-yellow"},2920647537:{name:"还是会想你",gradient:"gradient-dark-blue-midnight-blue"},2890501416:{name:"助眠白噪声",gradient:"gradient-sky-blue"},5217150082:{name:"摇滚唱片行",gradient:"gradient-yellow-red"},2829961453:{name:"古风音乐大赏",gradient:"gradient-fog"},4923261701:{name:"Trance",gradient:"gradient-light-red-light-blue "},5212729721:{name:"欧美点唱机",gradient:"gradient-indigo-pink-yellow"},3103434282:{name:"甜蜜少女心",gradient:"gradient-pink"},2829896389:{name:"日系私人订制",gradient:"gradient-yellow-pink"},2829779628:{name:"运动随身听",gradient:"gradient-orange-red"},2860654884:{name:"独立女声精选",gradient:"gradient-sharp-blue"},898150:{name:"浪漫婚礼专用",gradient:"gradient-pink"},2638104052:{name:"牛奶泡泡浴",gradient:"gradient-fog"},5317236517:{name:"后朋克精选",gradient:"gradient-pink-purple-blue"},2821115454:{name:"一周原创发现",gradient:"gradient-blue-purple"},3136952023:{name:"私人雷达",gradient:"gradient-radar"}},k={name:"Playlist",components:{Cover:b["a"],ButtonTwoTone:h["a"],TrackList:g["a"],Modal:v["a"],ContextMenu:f["a"]},data:function(){return{show:!1,playlist:{coverImgUrl:"",creator:{userId:""},trackIds:[]},showFullDescription:!1,tracks:[],loadingMore:!1,lastLoadedTrackIndex:9}},created:function(){"likedSongs"===this.$route.name?this.loadData(this.data.likedSongPlaylistID):this.loadData(this.$route.params.id)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll,!0)},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(["player","data"])),{},{isLikeSongsPage:function(){return"likedSongs"===this.$route.name},specialPlaylistInfo:function(){return m[this.playlist.id]},isUserOwnPlaylist:function(){return this.playlist.creator.userId===this.data.user.userId&&this.playlist.id!==this.data.likedSongPlaylistID}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["c"])(["appendTrackToPlayerList"])),Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"])),{},{playPlaylistByID:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.playlist.trackIds.map((function(t){return t.id}));Object(u["b"])(e,this.playlist.id,"playlist",t)},likePlaylist:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(y["b"])()?Object(d["g"])({id:this.playlist.id,t:this.playlist.subscribed?2:1}).then((function(a){200===a.code&&(t.playlist.subscribed=!t.playlist.subscribed,!0===e&&t.showToast(t.playlist.subscribed?"已保存到音乐库":"已从音乐库删除")),Object(d["d"])(t.id,!0).then((function(e){t.playlist=e.playlist}))})):this.showToast("此操作需要登录网易云账号")},loadData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.id=t,Object(d["d"])(this.id,!0).then((function(t){return e.playlist=t.playlist,e.tracks=t.playlist.tracks,c.a.done(),void 0!==a&&a(),e.show=!0,e.lastLoadedTrackIndex=t.playlist.tracks.length-1,e.playlist.trackCount>e.tracks.length&&window.addEventListener("scroll",e.handleScroll,!0),t})).then((function(){e.playlist.trackCount>e.tracks.length&&(e.loadingMore=!0,e.loadMore())}))},loadMore:function(){var t=this,e=this.playlist.trackIds.filter((function(e,a){if(a>t.lastLoadedTrackIndex&&a<=t.lastLoadedTrackIndex+50)return e}));e=e.map((function(t){return t.id})),Object(p["c"])(e.join(",")).then((function(a){var i;(i=t.tracks).push.apply(i,Object(s["a"])(a.songs)),t.lastLoadedTrackIndex+=e.length,t.loadingMore=!1}))},handleScroll:function(t){var e=document.querySelector("html"),a=Math.max(e.scrollHeight,e.scrollHeight),i=t.target.scrollingElement.scrollTop,n=e.innerHeight||Math.min(e.clientHeight,e.clientHeight);if(n+i+200>=a){if(this.lastLoadedTrackIndex+1===this.playlist.trackIds.length||this.loadingMore)return;this.loadingMore=!0,this.loadMore()}},openMenu:function(t){this.$refs.playlistMenu.openMenu(t)},deletePlaylist:function(){var t=this;if(Object(y["b"])()){var e=confirm("确定要删除歌单 ".concat(this.playlist.name,"？"));!0===e&&Object(d["c"])(this.playlist.id).then((function(e){200===e.code?(alert("已删除歌单 ".concat(t.playlist.name)),t.$router.go(-1)):alert("发生错误")}))}else this.showToast("此操作需要登录网易云账号")},editPlaylist:function(){alert("此功能开发中")},removeTrack:function(t){Object(y["b"])()?this.tracks=this.tracks.filter((function(e){return e.id!==t})):this.showToast("此操作需要登录网易云账号")}})},w=k,C=(a("22a5"),a("2877")),S=Object(C["a"])(w,i,n,!1,null,"62664500",null);e["default"]=S.exports},a630:function(t,e,a){var i=a("23e7"),n=a("4df4"),s=a("1c7e"),o=!s((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:n})},d0ff:function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function n(t){if(Array.isArray(t))return i(t)}a.d(e,"a",(function(){return l}));a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("fb6a"),a("b0c0"),a("25f0");function o(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||s(t)||o(t)||r()}},d28b:function(t,e,a){var i=a("746f");i("iterator")},e01a:function(t,e,a){"use strict";var i=a("23e7"),n=a("83ab"),s=a("da84"),o=a("5135"),r=a("861d"),l=a("9bf2").f,c=a("e893"),d=s.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};c(p,d);var y=p.prototype=d.prototype;y.constructor=p;var h=y.toString,f="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;l(y,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=h.call(t);if(o(u,t))return"";var a=f?e.slice(7,-1):e.replace(g,"$1");return""===a?void 0:a}}),i({global:!0,forced:!0},{Symbol:p})}},e83d:function(t,e,a){"use strict";var i=a("f445"),n=a.n(i);n.a},f445:function(t,e,a){}}]);
//# sourceMappingURL=chunk-46f994b2.e8f3244c.js.map