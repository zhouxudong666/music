(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da1e410e"],{"0ff9":function(t,e,s){"use strict";var i=s("9e07"),a=s.n(i);a.a},"1bea":function(t,e,s){"use strict";var i=s("7283"),a=s.n(i);a.a},2726:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cover-row"},t._l(t.items,(function(e){return s("div",{key:e.id,staticClass:"item",class:{artist:"artist"===t.type},style:{marginBottom:"none"===t.subText?"32px":"24px"}},[s("Cover",{staticClass:"cover",attrs:{id:e.id,type:"chart"===t.type?"playlist":t.type,url:t._f("resizeImage")(t.getUrl(e),t.imageSize),hoverEffect:!0,showBlackShadow:!0,showPlayButton:t.showPlayButton,radius:"artist"===t.type?100:12,size:"artist"===t.type?192:208}}),s("div",{staticClass:"text"},[t.showPlayCount?s("div",{staticClass:"info"},[s("span",{staticClass:"play-count"},[s("svg-icon",{attrs:{"icon-class":"play"}}),t._v(t._s(t._f("formatPlayCount")(e.playCount))+" ")],1)]):t._e(),s("div",{staticClass:"name"},["album"===t.type&&1056768===e.mark?s("span",{staticClass:"explicit-symbol"},[s("ExplicitSymbol")],1):t._e(),"playlist"===t.type&&10===e.privacy?s("span",{staticClass:"lock-icon"},[s("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),s("router-link",{attrs:{to:"/"+("chart"===t.type?"playlist":t.type)+"/"+e.id}},[t._v(t._s(e.name))])],1),"artist"!==t.type&&"none"!==t.subText?s("div",{staticClass:"info"},[s("span",{domProps:{innerHTML:t._s(t.getSubText(e))}})]):t._e()])],1)})),0)},a=[],r=(s("a4d3"),s("e01a"),s("99af"),s("b0c0"),s("a9e3"),s("0c94")),o=s("3020"),n={name:"CoverRow",components:{Cover:o["a"],ExplicitSymbol:r["a"]},props:{items:Array,type:String,subText:{type:String,default:"none"},imageSize:{type:Number,default:512},showPlayButton:{type:Boolean,default:!1},showPlayCount:{type:Boolean,default:!1}},methods:{getUrl:function(t){return void 0!==t.picUrl?t.picUrl:void 0!==t.coverImgUrl?t.coverImgUrl:void 0!==t.img1v1Url?t.img1v1Url:void 0},getSubText:function(t){if("copywriter"===this.subText)return t.copywriter;if("description"===this.subText)return t.description;if("updateFrequency"===this.subText)return t.updateFrequency;if("creator"===this.subText)return"by "+t.creator.nickname;if("releaseYear"===this.subText)return new Date(t.publishTime).getFullYear();if("artist"===this.subText){if(void 0!==t.artist)return'<a href="/#/artist/'.concat(t.artist.id,'">').concat(t.artist.name,"</a>");if(void 0!==t.artists)return'<a href="/#/artist/'.concat(t.artists[0].id,'">').concat(t.artists[0].name,"</a>")}if("albumType+releaseYear"===this.subText){var e=t.type;return"EP/Single"===t.type?e=1===t.size?"Single":"EP":"Single"===t.type?e="Single":"专辑"===t.type&&(e="Album"),"".concat(e," · ").concat(new Date(t.publishTime).getFullYear())}return"appleMusic"===this.subText?"by Apple Music":void 0}}},l=n,c=(s("1bea"),s("2877")),u=Object(c["a"])(l,i,a,!1,null,"ce9630ce",null);e["a"]=u.exports},3020:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative"}},[s("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?s("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(e){return e.stopPropagation(),t.playButtonClicked(e)}}},[s("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()]),t.hoverEffect?s("transition",{attrs:{name:"fade"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?s("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},a=[],r=(s("a9e3"),s("eb6f")),o={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(~~(.96*this.size),"px"),top:"".concat(this.shadowMargin,"px"),right:"".concat(~~(.02*this.size),"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(r["c"])(this.id):"playlist"===this.type&&Object(r["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(r["c"])(this.id):"playlist"===this.type?Object(r["e"])(this.id):"artist"===this.type&&Object(r["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},n=o,l=(s("e83d"),s("2877")),c=Object(l["a"])(n,i,a,!1,null,"8cdb356c",null);e["a"]=c.exports},7283:function(t,e,s){},"9e07":function(t,e,s){},a630:function(t,e,s){var i=s("23e7"),a=s("4df4"),r=s("1c7e"),o=!r((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:a})},d0ff:function(t,e,s){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function a(t){if(Array.isArray(t))return i(t)}s.d(e,"a",(function(){return l}));s("a4d3"),s("e01a"),s("d28b"),s("a630"),s("d3b7"),s("3ca3"),s("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}s("fb6a"),s("b0c0"),s("25f0");function o(t,e){if(t){if("string"===typeof t)return i(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?i(t,e):void 0}}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return a(t)||r(t)||o(t)||n()}},d28b:function(t,e,s){var i=s("746f");i("iterator")},d4e3:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mv-row"},t._l(t.mvs,(function(e){return s("div",{key:t.getID(e),staticClass:"mv"},[s("div",{staticClass:"cover-container"},[s("img",{staticClass:"cover",attrs:{src:t.getUrl(e)},on:{mouseover:function(s){t.hoverVideoID=t.getID(e)},mouseleave:function(e){t.hoverVideoID=0},click:function(s){t.goToMv(t.getID(e))}}}),s("transition",{attrs:{name:"fade"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===t.getID(e),expression:"hoverVideoID === getID(mv)"}],staticClass:"shadow",attrs:{src:t.getUrl(e)}})])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[s("router-link",{attrs:{to:"/mv/"+t.getID(e)}},[t._v(t._s(t.getTitle(e)))])],1),s("div",{staticClass:"artist",domProps:{innerHTML:t._s(t.getSubtitle(e))}})])])})),0)},a=[],r=(s("99af"),s("b0c0"),s("ac1f"),s("5319"),{name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"}},data:function(){return{hoverVideoID:0}},methods:{goToMv:function(t){var e={};void 0!==this.$parent.player&&(e={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:e})},getUrl:function(t){return void 0!==t.cover?t.cover.replace(/^http:/,"https:"):void 0!==t.imgurl16v9?t.imgurl16v9.replace(/^http:/,"https:"):void 0!==t.coverUrl?t.coverUrl.replace(/^http:/,"https:"):void 0},getID:function(t){return void 0!==t.id?t.id:void 0!==t.vid?t.vid:void 0},getTitle:function(t){return void 0!==t.name?t.name:void 0!==t.title?t.title:void 0},getSubtitle:function(t){if("artist"===this.subtitle){var e="null",s=0;return void 0!==t.artistName?(e=t.artistName,s=t.artistId):void 0!==t.creator&&(e=t.creator[0].userName,s=t.creator[0].userId),'<a href="/#/artist/'.concat(s,'">').concat(e,"</a>")}if("publishTime"===this.subtitle)return t.publishTime}}}),o=r,n=(s("de48"),s("2877")),l=Object(n["a"])(o,i,a,!1,null,"7ce08dee",null);e["a"]=l.exports},de48:function(t,e,s){"use strict";var i=s("f92d"),a=s.n(i);a.a},e01a:function(t,e,s){"use strict";var i=s("23e7"),a=s("83ab"),r=s("da84"),o=s("5135"),n=s("861d"),l=s("9bf2").f,c=s("e893"),u=r.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(h,u);var p=h.prototype=u.prototype;p.constructor=h;var v=p.toString,f="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=n(this)?this.valueOf():this,e=v.call(t);if(o(d,t))return"";var s=f?e.slice(7,-1):e.replace(y,"$1");return""===s?void 0:s}}),i({global:!0,forced:!0},{Symbol:h})}},e36c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("h1",[s("img",{staticClass:"head",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl)}}),t._v(t._s(t.data.user.nickname)+t._s(t.$t("library.sLibrary"))+" ")]),s("div",{staticClass:"section-one"},[s("div",{staticClass:"liked-songs",on:{click:t.goToLikedSongsList}},[s("div",{staticClass:"top"},[s("p",t._l(t.pickedLyric,(function(e,i){return s("span",{directives:[{name:"show",rawName:"v-show",value:""!==e,expression:"line !== ''"}],key:""+e+i},[t._v(t._s(e)),s("br")])})),0)]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"titles"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("library.likedSongs")))]),s("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.likedSongsPlaylist.trackCount)+" "+t._s(t.$t("common.songs"))+" ")])]),s("button",{on:{click:function(e){return e.stopPropagation(),t.playLikedSongs(e)}}},[s("svg-icon",{attrs:{"icon-class":"play"}})],1)])]),s("div",{staticClass:"songs"},[s("TrackList",{attrs:{tracks:t.likedSongs,type:"tracklist",itemWidth:220,id:t.likedSongsPlaylist.id,dbclickTrackFunc:"playPlaylistByID"}})],1)]),s("div",{staticClass:"section-two",attrs:{id:"liked"}},[s("div",{staticClass:"tabs-row"},[s("div",{staticClass:"tabs"},[s("div",{staticClass:"tab",class:{active:"playlists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playlists")}}},[t._v(" Playlists ")]),s("div",{staticClass:"tab",class:{active:"albums"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("albums")}}},[t._v(" Albums ")]),s("div",{staticClass:"tab",class:{active:"artists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("artists")}}},[t._v(" Artists ")]),s("div",{staticClass:"tab",class:{active:"mvs"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("mvs")}}},[t._v(" MVs ")])]),s("button",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}],staticClass:"add-playlist",attrs:{icon:"plus"},on:{click:t.openAddPlaylistModal}},[s("svg-icon",{attrs:{"icon-class":"plus"}}),t._v("新建歌单")],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}]},[t.playlists.length>1?s("div",[s("CoverRow",{attrs:{items:t.playlists.slice(1),type:"playlist",subText:"creator",showPlayButton:!0}})],1):t._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:"albums"===t.currentTab,expression:"currentTab === 'albums'"}]},[s("CoverRow",{attrs:{items:t.albums,type:"album",subText:"artist",showPlayButton:!0}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"artists"===t.currentTab,expression:"currentTab === 'artists'"}]},[s("CoverRow",{attrs:{items:t.artists,type:"artist",showPlayButton:!0}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"mvs"===t.currentTab,expression:"currentTab === 'mvs'"}]},[s("MvRow",{attrs:{mvs:t.mvs}})],1)])])},a=[],r=(s("4de4"),s("caad"),s("a15b"),s("d81d"),s("fb6a"),s("ac1f"),s("2532"),s("1276"),s("d0ff")),o=s("f3f3"),n=s("2f62"),l=s("fefb"),c=s("c24f"),u=s("cf45"),d=s("1e9a"),h=s("5f87"),p=s("eb6f"),v=s("323e"),f=s.n(v),y=s("a1a1"),b=s("2726"),m=s("0032"),g=s("d4e3"),w={name:"Library",components:{SvgIcon:m["a"],CoverRow:b["a"],TrackList:y["a"],MvRow:g["a"]},data:function(){return{show:!1,playlists:[],hasMorePlaylists:!0,likedSongsPlaylist:{id:0,trackCount:0},likedSongs:[],likedSongIDs:[],lyric:void 0,currentTab:"playlists",albums:[],artists:[],mvs:[]}},created:function(){var t=this;f.a.start(),Object(c["e"])(this.data.user.userId).then((function(e){t.$store.commit("updateData",{key:"user",value:e.profile})}))},activated:function(){this.loadData(),Object(u["c"])()},computed:Object(o["a"])(Object(o["a"])({},Object(n["d"])(["data"])),{},{likedSongsInState:function(){return this.$store.state.liked.songs},pickedLyric:function(){if(void 0===this.lyric)return"";var t=this.lyric.split("\n");t=t.filter((function(t){return!t.includes("作词")&&!t.includes("作曲")}));var e=Object(u["e"])(0,t.length-1);while(e+4>t.length)e=Object(u["e"])(0,t.length-1);return[t[e].split("]")[1],t[e+1].split("]")[1],t[e+2].split("]")[1]]}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["b"])(["showToast"])),Object(n["c"])(["updateModal"])),{},{playLikedSongs:function(){Object(p["e"])(this.playlists[0].id,"first",!0)},updateCurrentTab:function(t){Object(h["b"])()||"playlists"===t?(this.currentTab=t,document.getElementById("liked").scrollIntoView({block:"start",behavior:"smooth"}),"albums"===t?0===this.albums.length&&this.loadLikedAlbums():"artists"===t?0===this.artists.length&&this.loadLikedArtists():"mvs"===t&&0===this.mvs.length&&this.loadLikedMVs()):this.showToast("此操作需要登录网易云账号")},goToLikedSongsList:function(){this.$router.push({path:"/library/liked-songs"})},loadData:function(){this.hasMorePlaylists&&"playlists"===this.currentTab&&this.getUserPlaylists(),"albums"===this.currentTab?this.loadLikedAlbums():"artists"===this.currentTab?this.loadLikedArtists():"mvs"===this.currentTab&&this.loadLikedMVs(),this.getLikedSongs()},getUserPlaylists:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(c["g"])({uid:this.data.user.userId,offset:0===this.playlists.length?0:this.playlists.length-1,timestamp:(new Date).getTime()}).then((function(s){var i;e?t.playlists=s.playlist:(i=t.playlists).push.apply(i,Object(r["a"])(s.playlist));t.hasMorePlaylists=s.more}))},getLikedSongs:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(d["d"])(this.data.likedSongPlaylistID,!0).then((function(s){t.likedSongsPlaylist=s.playlist;var i=s.playlist.trackIds.slice(0,20).map((function(t){return t.id}));t.likedSongIDs=i,Object(l["c"])(t.likedSongIDs.join(",")).then((function(e){t.likedSongs=e.songs,f.a.done(),t.show=!0})),e&&t.getRandomLyric()}))},getRandomLyric:function(){var t=this;Object(l["a"])(this.likedSongIDs[Object(u["e"])(0,this.likedSongIDs.length-1)]).then((function(e){void 0!==e.lrc&&(t.lyric=e.lrc.lyric)}))},loadLikedAlbums:function(){var t=this;f.a.start(),Object(c["b"])().then((function(e){t.albums=e.data,f.a.done()}))},loadLikedArtists:function(){var t=this;f.a.start(),Object(c["c"])().then((function(e){t.artists=e.data,f.a.done()}))},loadLikedMVs:function(){var t=this;f.a.start(),Object(c["d"])().then((function(e){t.mvs=e.data,f.a.done()}))},openAddPlaylistModal:function(){Object(h["b"])()?this.updateModal({modalName:"newPlaylistModal",key:"show",value:!0}):this.showToast("此操作需要登录网易云账号")}}),watch:{likedSongsInState:function(){this.getLikedSongs(!1)}}},k=w,S=(s("0ff9"),s("2877")),T=Object(S["a"])(k,i,a,!1,null,"31408423",null);e["default"]=T.exports},e83d:function(t,e,s){"use strict";var i=s("f445"),a=s.n(i);a.a},f445:function(t,e,s){},f92d:function(t,e,s){}}]);
//# sourceMappingURL=chunk-da1e410e.cc9e9f3b.js.map