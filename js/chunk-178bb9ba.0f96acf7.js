(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-178bb9ba"],{"04f0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"album"},[i("div",{staticClass:"playlist-info"},[i("Cover",{attrs:{url:t._f("resizeImage")(t.album.picUrl,1024),showPlayButton:!0,alwaysShowShadow:!0,clickToPlay:!0,size:288,type:"album",id:t.album.id},nativeOn:{contextmenu:function(e){return t.openMenu(e)}}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu(e)}}},[t._v(" "+t._s(t.title))]),""!==t.subtitle?i("div",{staticClass:"subtitle",on:{contextmenu:function(e){return t.openMenu(e)}}},[t._v(t._s(t.subtitle))]):t._e(),i("div",{staticClass:"artist"},[104700!==t.album.artist.id?i("span",[i("span",[t._v(t._s(t._f("formatAlbumType")(t.album.type,t.album))+" by ")]),i("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name))])],1):i("span",[t._v("Compilation by Various Artists")])]),i("div",{staticClass:"date-and-count"},[1056768===t.album.mark?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e(),i("span",{attrs:{title:t._f("formatDate")(t.album.publishTime)}},[t._v(t._s(new Date(t.album.publishTime).getFullYear()))]),i("span",[t._v(" · "+t._s(t.album.size)+" "+t._s(t.$t("common.songs")))]),t._v(", "+t._s(t._f("formatTime")(t.albumTime,"Human"))+" ")]),i("div",{staticClass:"description",on:{click:function(e){t.showFullDescription=!0}}},[t._v(" "+t._s(t.album.description)+" ")]),i("div",{staticClass:"buttons",staticStyle:{"margin-top":"32px"}},[i("ButtonTwoTone",{attrs:{iconClass:"play"},nativeOn:{click:function(e){return t.playAlbumByID(t.album.id)}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),i("ButtonTwoTone",{attrs:{iconClass:t.dynamicDetail.isSub?"heart-solid":"heart",iconButton:!0,horizontalPadding:0,color:t.dynamicDetail.isSub?"blue":"grey",textColor:t.dynamicDetail.isSub?"#335eea":"",backgroundColor:t.dynamicDetail.isSub?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likeAlbum(e)}}}),i("ButtonTwoTone",{attrs:{iconClass:"more",iconButton:!0,horizontalPadding:0,color:"grey"},nativeOn:{click:function(e){return t.openMenu(e)}}})],1)])],1),i("TrackList",{attrs:{tracks:t.tracks,type:"album",id:t.album.id,albumObject:t.album}}),i("div",{staticClass:"extra-info"},[i("div",{staticClass:"album-time"}),i("div",{staticClass:"release-date"},[t._v(" "+t._s(t.$t("album.released"))+" "+t._s(t._f("formatDate")(t.album.publishTime,"MMMM D, YYYY"))+" ")]),null!==t.album.company?i("div",{staticClass:"copyright"},[t._v(" © "+t._s(t.album.company)+" ")]):t._e()]),0!==t.filteredMoreAlbums.length?i("div",{staticClass:"more-by"},[i("div",{staticClass:"section-title"},[t._v(" More by "),i("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name)+" ")])],1),i("div",[i("CoverRow",{attrs:{type:"album",items:t.filteredMoreAlbums,subText:"albumType+releaseYear",showPlayButton:!0}})],1)]):t._e(),i("Modal",{attrs:{show:t.showFullDescription,close:function(){return t.showFullDescription=!1},showFooter:!1,clickOutsideHide:!0,title:"专辑介绍"}},[t._v(t._s(t.album.description))]),i("ContextMenu",{ref:"albumMenu"},[i("div",{staticClass:"item"},[t._v(t._s(t.$t("contextMenu.playNext")))]),i("div",{staticClass:"item",on:{click:function(e){return t.likeAlbum(!0)}}},[t._v(t._s(t.dynamicDetail.isSub?"从音乐库删除":"保存到音乐库"))]),i("div",{staticClass:"item"},[t._v("添加到歌单")])])],1)},n=[],s=(i("99af"),i("4de4"),i("7db0"),i("a15b"),i("d81d"),i("fb6a"),i("b0c0"),i("d0ff")),o=i("f3f3"),r=i("2f62"),l=i("512b"),c=i("fefb"),u=i("eb6f"),d=i("e498"),b=i("cf45"),p=i("323e"),f=i.n(p),m=i("5f87"),y=i("0c94"),h=i("5e45"),v=i("6825"),g=i("a1a1"),w=i("2726"),S=i("3020"),_=i("714b"),C={name:"Album",components:{Cover:S["a"],ButtonTwoTone:h["a"],TrackList:g["a"],ExplicitSymbol:y["a"],CoverRow:w["a"],Modal:_["a"],ContextMenu:v["a"]},data:function(){return{album:{id:0,picUrl:"",artist:{id:0}},tracks:[],showFullDescription:!1,show:!1,moreAlbums:[],dynamicDetail:{},subtitle:"",title:""}},created:function(){this.loadData(this.$route.params.id)},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(["player","data"])),{},{albumTime:function(){var t=0;return this.tracks.map((function(e){return t+=e.dt})),t},filteredMoreAlbums:function(){var t=this,e=this.moreAlbums.filter((function(e){return e.id!==t.album.id})),i=e.filter((function(t){return"专辑"===t.type})),a=e.filter((function(t){return"EP"===t.type||"EP/Single"===t.type&&t.size>1})),n=e.filter((function(t){return void 0===i.find((function(e){return e.id===t.id}))&&void 0===a.find((function(e){return e.id===t.id}))}));return 0===i.length?[].concat(Object(s["a"])(i),Object(s["a"])(a),Object(s["a"])(n)).slice(0,5):[].concat(Object(s["a"])(i),Object(s["a"])(n)).slice(0,5)}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["c"])(["appendTrackToPlayerList"])),Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"])),{},{playAlbumByID:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";void 0!==this.tracks.find((function(t){return!1!==t.playable}))&&Object(u["c"])(t,e)},likeAlbum:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(m["b"])()?Object(d["c"])({id:this.album.id,t:this.dynamicDetail.isSub?0:1}).then((function(i){200===i.code&&(t.dynamicDetail.isSub=!t.dynamicDetail.isSub,!0===e&&t.showToast(t.dynamicDetail.isSub?"已保存到音乐库":"已从音乐库删除"))})):this.showToast("此操作需要登录网易云账号")},formatTitle:function(){var t=Object(b["h"])(this.album.name),e=Object(b["g"])(t.title);this.title=e.title,""!==t.subtitle&&""!==e.subtitle?this.subtitle=t.subtitle+" · "+e.subtitle:this.subtitle=""===t.subtitle?e.subtitle:t.subtitle},loadData:function(t){var e=this;Object(d["b"])(t).then((function(t){e.album=t.album,e.tracks=t.songs,e.formatTitle(),f.a.done(),e.show=!0;var i=e.tracks.map((function(t){return t.id}));Object(c["c"])(i.join(",")).then((function(t){e.tracks=t.songs})),Object(l["d"])({id:e.album.artist.id,limit:100}).then((function(t){e.moreAlbums=t.hotAlbums}))})),Object(d["a"])(t).then((function(t){e.dynamicDetail=t}))},openMenu:function(t){this.$refs.albumMenu.openMenu(t)}}),beforeRouteUpdate:function(t,e,i){f.a.start(),this.loadData(t.params.id),i()}},x=C,T=(i("a238"),i("2877")),k=Object(T["a"])(x,a,n,!1,null,"4bade722",null);e["default"]=k.exports},"0f0a":function(t,e,i){"use strict";var a=i("4fb2"),n=i.n(a);n.a},"1bea":function(t,e,i){"use strict";var a=i("7283"),n=i.n(a);n.a},2726:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cover-row"},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"item",class:{artist:"artist"===t.type},style:{marginBottom:"none"===t.subText?"32px":"24px"}},[i("Cover",{staticClass:"cover",attrs:{id:e.id,type:"chart"===t.type?"playlist":t.type,url:t._f("resizeImage")(t.getUrl(e),t.imageSize),hoverEffect:!0,showBlackShadow:!0,showPlayButton:t.showPlayButton,radius:"artist"===t.type?100:12,size:"artist"===t.type?192:208}}),i("div",{staticClass:"text"},[t.showPlayCount?i("div",{staticClass:"info"},[i("span",{staticClass:"play-count"},[i("svg-icon",{attrs:{"icon-class":"play"}}),t._v(t._s(t._f("formatPlayCount")(e.playCount))+" ")],1)]):t._e(),i("div",{staticClass:"name"},["album"===t.type&&1056768===e.mark?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e(),"playlist"===t.type&&10===e.privacy?i("span",{staticClass:"lock-icon"},[i("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),i("router-link",{attrs:{to:"/"+("chart"===t.type?"playlist":t.type)+"/"+e.id}},[t._v(t._s(e.name))])],1),"artist"!==t.type&&"none"!==t.subText?i("div",{staticClass:"info"},[i("span",{domProps:{innerHTML:t._s(t.getSubText(e))}})]):t._e()])],1)})),0)},n=[],s=(i("a4d3"),i("e01a"),i("99af"),i("b0c0"),i("a9e3"),i("0c94")),o=i("3020"),r={name:"CoverRow",components:{Cover:o["a"],ExplicitSymbol:s["a"]},props:{items:Array,type:String,subText:{type:String,default:"none"},imageSize:{type:Number,default:512},showPlayButton:{type:Boolean,default:!1},showPlayCount:{type:Boolean,default:!1}},methods:{getUrl:function(t){return void 0!==t.picUrl?t.picUrl:void 0!==t.coverImgUrl?t.coverImgUrl:void 0!==t.img1v1Url?t.img1v1Url:void 0},getSubText:function(t){if("copywriter"===this.subText)return t.copywriter;if("description"===this.subText)return t.description;if("updateFrequency"===this.subText)return t.updateFrequency;if("creator"===this.subText)return"by "+t.creator.nickname;if("releaseYear"===this.subText)return new Date(t.publishTime).getFullYear();if("artist"===this.subText){if(void 0!==t.artist)return'<a href="/#/artist/'.concat(t.artist.id,'">').concat(t.artist.name,"</a>");if(void 0!==t.artists)return'<a href="/#/artist/'.concat(t.artists[0].id,'">').concat(t.artists[0].name,"</a>")}if("albumType+releaseYear"===this.subText){var e=t.type;return"EP/Single"===t.type?e=1===t.size?"Single":"EP":"Single"===t.type?e="Single":"专辑"===t.type&&(e="Album"),"".concat(e," · ").concat(new Date(t.publishTime).getFullYear())}return"appleMusic"===this.subText?"by Apple Music":void 0}}},l=r,c=(i("1bea"),i("2877")),u=Object(c["a"])(l,a,n,!1,null,"ce9630ce",null);e["a"]=u.exports},3020:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative"}},[i("div",{staticClass:"cover",class:{"hover-float":t.hoverEffect,"hover-play-button":t.showPlayButton},style:t.coverStyle,on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickToPlay?t.play():t.goTo()}}},[t.showPlayButton?i("button",{staticClass:"play-button",style:t.playButtonStyle,on:{click:function(e){return e.stopPropagation(),t.playButtonClicked(e)}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1):t._e()]),t.hoverEffect?i("transition",{attrs:{name:"fade"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}})]):t._e(),t.alwaysShowShadow?i("img",{staticClass:"shadow",style:t.shadowStyle,attrs:{src:t.url}}):t._e()],1)},n=[],s=(i("a9e3"),i("eb6f")),o={name:"Cover",props:{id:Number,type:String,url:String,hoverEffect:Boolean,showPlayButton:Boolean,alwaysShowShadow:Boolean,showBlackShadow:Boolean,clickToPlay:Boolean,size:{type:Number,default:208},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12},playButtonSize:{type:Number,default:48}},data:function(){return{focus:!1,shadowStyle:{},playButtonStyle:{}}},created:function(){this.shadowStyle={height:"".concat(this.size,"px"),width:"".concat(~~(.96*this.size),"px"),top:"".concat(this.shadowMargin,"px"),right:"".concat(~~(.02*this.size),"px"),borderRadius:"".concat(this.radius,"px")},this.playButtonStyle={height:"".concat(this.playButtonSize,"px"),width:"".concat(this.playButtonSize,"px")}},computed:{coverStyle:function(){return{backgroundImage:"url('".concat(this.url,"')"),boxShadow:this.showBlackShadow?"0 12px 16px -8px rgba(0, 0, 0, 0.2)":"",height:"".concat(this.size,"px"),width:"".concat(this.size,"px"),borderRadius:"".concat(this.radius,"px"),cursor:this.clickToPlay?"default":"pointer"}}},methods:{play:function(){"album"===this.type?Object(s["c"])(this.id):"playlist"===this.type&&Object(s["e"])(this.id)},playButtonClicked:function(){"album"===this.type?Object(s["c"])(this.id):"playlist"===this.type?Object(s["e"])(this.id):"artist"===this.type&&Object(s["d"])(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}},r=o,l=(i("e83d"),i("2877")),c=Object(l["a"])(r,a,n,!1,null,"8cdb356c",null);e["a"]=c.exports},"369a":function(t,e,i){},"4fb2":function(t,e,i){},"5e45":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?i("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{iconClass:t.iconClass}}):t._e(),t._t("default")],2)},n=[],s=(i("a9e3"),{name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},backgroundColor:{type:String,default:""},textColor:{type:String,default:""},shape:{type:String,default:"square"}},computed:{buttonStyle:function(){var t={borderRadius:"round"===this.shape?"50%":"8px",padding:"8px ".concat(this.horizontalPadding,"px"),width:"round"===this.shape?"38px":"auto"};return""!==this.backgroundColor&&(t.backgroundColor=this.backgroundColor),""!==this.textColor&&(t.color=this.textColor),t}}}),o=s,r=(i("0f0a"),i("2877")),l=Object(r["a"])(o,a,n,!1,null,"18f7e8ba",null);e["a"]=l.exports},7283:function(t,e,i){},a238:function(t,e,i){"use strict";var a=i("369a"),n=i.n(a);n.a},a630:function(t,e,i){var a=i("23e7"),n=i("4df4"),s=i("1c7e"),o=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:n})},d0ff:function(t,e,i){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function n(t){if(Array.isArray(t))return a(t)}i.d(e,"a",(function(){return l}));i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("fb6a"),i("b0c0"),i("25f0");function o(t,e){if(t){if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||s(t)||o(t)||r()}},d28b:function(t,e,i){var a=i("746f");a("iterator")},e01a:function(t,e,i){"use strict";var a=i("23e7"),n=i("83ab"),s=i("da84"),o=i("5135"),r=i("861d"),l=i("9bf2").f,c=i("e893"),u=s.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof b?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(b,u);var p=b.prototype=u.prototype;p.constructor=b;var f=p.toString,m="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=f.call(t);if(o(d,t))return"";var i=m?e.slice(7,-1):e.replace(y,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:b})}},e83d:function(t,e,i){"use strict";var a=i("f445"),n=i.n(a);n.a},f445:function(t,e,i){}}]);
//# sourceMappingURL=chunk-178bb9ba.0f96acf7.js.map